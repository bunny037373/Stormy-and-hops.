<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Discord Ban Appeal Form</title>
<style>
body { font-family: Arial; background:#2c2f33; color:#fff; display:flex; justify-content:center; align-items:center; min-height:100vh; margin:0;}
.container { background:#23272a; padding:30px; border-radius:12px; box-shadow:0 0 15px rgba(0,0,0,0.5); width:100%; max-width:500px;}
h1{ text-align:center; color:#7289da; margin-bottom:20px;}
label{ display:block; margin-top:15px; font-weight:bold;}
input,textarea{ width:100%; padding:10px; margin-top:5px; border-radius:6px; border:none; font-size:14px;}
textarea{ resize:vertical; min-height:100px;}
button{ background:#7289da; color:white; border:none; padding:12px; width:100%; border-radius:6px; margin-top:20px; font-size:16px; cursor:pointer;}
button:hover{ background:#5b6eae;}
.thank-you{ display:none; text-align:center; margin-top:20px; color:#43b581; font-weight:bold;}
</style>
</head>
<body>
<div class="container">
<h1>Ban Appeal Form</h1>
<form id="appealForm">
<label for="userId">Discord User ID:</label>
<input type="text" id="userId" name="userId" required placeholder="123456789012345678">

<label for="username">Username (Optional):</label>
<input type="text" id="username" name="username" placeholder="Example#1234">

<label for="moderatorNote">Moderator Note:</label>
<textarea id="moderatorNote" name="moderatorNote" required placeholder="Reason you were banned"></textarea>

<label for="reason">Why should you be unbanned?</label>
<textarea id="reason" name="reason" required placeholder="Your appeal explanation..."></textarea>

<button type="submit">Submit Appeal</button>
</form>

<div class="thank-you" id="thankYouMessage">
Thank you! Your appeal has been submitted. We will review it as soon as possible.
</div>
</div>

<script>
const API_URL = "https://abcd1234.ngrok.io"; // <-- replace with your ngrok URL
const API_KEY = "10B8hUj93hsoejdhdhw830rf";

document.getElementById('appealForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const userId = document.getElementById('userId').value.trim();
  const username = document.getElementById('username').value.trim();
  const moderatorNote = document.getElementById('moderatorNote').value.trim();
  const reason = document.getElementById('reason').value.trim();
  if(!userId || !moderatorNote || !reason){ alert('Please fill out all required fields.'); return; }

  try{
    const response = await fetch(API_URL,{
      method:'POST',
      headers:{ 'Content-Type':'application/json', 'x-api-key':API_KEY },
      body:JSON.stringify({ userId, username, moderatorNote, reason })
    });
    const result = await response.json();
    if(response.ok && result.ok){
      document.getElementById('appealForm').style.display='none';
      document.getElementById('thankYouMessage').style.display='block';
    } else { alert(result.error || "Failed to submit appeal. Try again later."); }
  }catch(err){
    console.error(err);
    alert("Error connecting to server. Make sure your bot/server is running.");
  }
});
</script>
</body>
</html>
